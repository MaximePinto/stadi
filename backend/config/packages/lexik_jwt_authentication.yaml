# backend/config/packages/lexik_jwt_authentication.yaml
lexik_jwt_authentication:
    secret_key: '%kernel.project_dir%/config/jwt/private.pem'
    public_key: '%kernel.project_dir%/config/jwt/public.pem'
    pass_phrase: '%env(JWT_PASSPHRASE)%'
    token_ttl: 3600

    # Configuration pour extraire le token depuis les cookies
    token_extractors:
        # DÃ©sactiver l'Authorization header si vous voulez utiliser uniquement les cookies
        authorization_header:
            enabled: false
        # Activer l'extraction depuis les cookies
        cookie:
            enabled: true
            name: 'jwt'

    # Configuration pour dÃ©finir automatiquement les cookies httpOnly
    set_cookies:
        jwt:
            lifetime: 3600        # DurÃ©e de vie du cookie (en secondes)
            samesite: 'lax'       # Protection CSRF (lax, strict, none)
            path: '/'             # Chemin du cookie
            domain: null          # Domaine (null = domaine actuel)
            httpOnly: true        # ðŸ”’ Cookie httpOnly (sÃ©curitÃ© XSS)
            secure: true          # ðŸ”’ Cookie sÃ©curisÃ© (HTTPS uniquement)
            partitioned: false    # Pour Symfony 6.4+